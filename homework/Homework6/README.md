# Домашнее задание - Мониторинг и нагрузочное тестирование

---
# Часть 1 Мониторинг

### 1) Задание

Дорисовать Dashboard для act-device-api, начатый во время воркшопа

Критерий приемки:
1) Скриншот Дашборда.
2) Json Файл с Бордой.

Должны быть секции: 
   1) Мониторинг GO метрик. (CPU time, GC Duration, Heap)
   2) RPS by Handler
   3) RPS By Status
   4) Response Time by Handler_
---
# Часть 2 Нагрузочные тесты

### 2) Задание

Добавить в Нагрузочный тест с использованием Pandora минимум 3 новых любых новых запроса.
И провести тест поиска точки насыщения с использованием (Например от 1 до 1000 rps)
   
   **Подсказка**: Можете ограничить контейнер с приложением на потребление ресурсов с помощью секции в docker-compose ( Подробнее читайте в оф документации):
   (Можете в коде какой либо ручки сделать Принудительную блокировку через sync.Mutex (google it) или специальный таймаут)
```yaml
 deploy:
   resources:
     limits:
       cpus: '0.5'
       memory: 256M
     reservations:
       cpus: '0.25'
       memory: 128M
```
**Критерий приемки**:
   1) Файл results.md с описанием результатов нагрузочного теста со скриншотами: Условия теста, Ресурсы, Подаваемая нагрузка, Результаты. В результатах приложить скриншоты найденных проблем, доказывающих найденную точку насышение.

---
### Дополнительное задание:

#### 1) Задание

Подключить экпортеры по остальным компонентам системы и настроить Дашборды. (PG, kafka, jauger, cadvisor)
   
**Критерий приемки:**
   1) Скриншоты минимум 2 новых бордов системы 
   2) новые экспортеры в docker-compose
   3) конфигурация в prometheus.yml
         
**Оценка**: 1 Кристалл

---

#### 2) Задание

Создать и провести тест с использование grpc (Пандора классическая или своя пушка)

**Критерий приемки:**
   1) Танковый конфиг со стрельбой по grpc
   2) Файл с патронами для GRPC стрельбы
**Оценка**: 1 Кристалл

---

#### 3) Задание

Создать свою сценарную GRPC пушку  на основе Пандоры и провести тест. [Видео](https://www.youtube.com/watch?v=lkusMkIniq0)

**Критерий приемки:**
   1) Танковый конфиг со стрельбой сценарной пушкой по grpc
   2) Файл с патронами для GRPC сценариями стрельбы
   3) Код пушки в репозитории с проектом (Минимум 3 запроса в сценарии)
**Оценка**: 2 Кристалла

---

#### 4) Задание

Доделать сценарный тест на Jmeter - Добавить секцию по работе с NotificationApi
   1) Создание Уведомление по созданному устройству
   2) Вычитать уведомление
   3) Аскнуть уведомление
   4) Удалить устройство
   
**Критерий приемки:**
   1) Файл с сценарием в репозитории проекта
   2) Скриншот борды с результатом теста в Grafana

**Оценка**: 1 Кристалл

---
